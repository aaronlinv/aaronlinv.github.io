<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Git笔记 | Aaron Lin</title>
<meta name=keywords content><meta name=description content='学习建议
廖雪峰Git教程 比较详细，可操作性也比较强，在评论区可以找到勘误
Git官方推荐的《Pro Git》也很不错，推荐掌握了一定Git基础后再看
对于没有 Linux 基础，或者文字版学起来比较困难的朋友可以看系列视频教程 互联网人都该懂点 Git
Linux 下最常用的编辑器就是 Vim，然而第一用可能会让你怀疑人生，建议先学习一下 ：使用Vim创建和编辑文本文件
注意点
Git 2.23 (2019.8.16)
git checkout 这个命令被拆分成了两个新命令：git switch 和 git restore
创建并切换到dev分支：git checkout -b dev 现在用git switch -c dev 效果相同
初始配置
安装Git Bash后需要做初始配置

用户名邮箱

# 任意文件夹右键 点击“ Git Bash Here ”
# ""内替换为自己的用户名和邮箱
git config --global user.name "username"
git config --global user.email "email"

# 查看配置是否成功
git config user.name
git config user.email

SSH 免密登录

# ssh-keygen 用于生成，管理和转换身份验证密钥
# -t：密钥的类型 
# -C：用于识别这个密钥的注释（不添加注释直接ssh-keygen -t rsa也不影响使用）
ssh-keygen -t rsa -C "邮箱地址"

# 连续按3次回车

# 将用户目录下.ssh文件夹内的id_rsa.pub的内容粘贴到GitHub的SSH Keys中
# 具体位置：GitHub Settings -> SSH and GPG keys -> SSH keys

# 测试是否成功 Github 
# 码云测试命令为：ssh git@gitee.com 反馈的结果与 GitHub 类似

ssh git@github.com

# Are you sure you want to continue connecting (yes/no)? 
# 这时需要输入：yes

#成功会提示成功认证你的账户
# Hi aaronlinv! You&#39;ve successfully authenticated, but GitHub does not provide shell access.
# Connection to github.com closed.
场景0：Git 基本使用
# 新建文件夹，初始化为Git仓库
mkdir learn-git
cd learn-git
git init

# 在当前目录添加并编辑文件(不熟悉 vim 编辑器可以用其他编辑器新建文件并编辑文件 )
vim test.txt

# 查看文件状态 test.txt现在为Untracked状态
git status

# 添加文件到暂存区
git add test.txt

# 提交commit -m 代表添加一个“提交信息”
git commit -m "add test.txt"

# 推送到 GitHub（在 GitHub 上创建空白仓库，并复制仓库地址）
# "git@github.com:aaronlinv/learn-git.git" 需要替换为自己新建的仓库地址
# 先添加远端仓库
# origin：远端仓库的别名（默认origin）
git remote add origin git@github.com:aaronlinv/learn-git.git

# 查看远端操作（会显示 fetch和push）
git remote -v 

# 推送到远端仓库（使用SSH协议需要配置SSH免密登录）
git push -u origin master
# -u：指定默认远端仓库别名，下一次推送只需使用git push
# origin：远端仓库的别名（默认origin）
# master：分支名称
push 是可能会遇到报错：refusing to merge unrelated histories
原因是远程仓库和本地仓库做了不同的改变并commit，导致本地仓库和远程仓库变成了独立的两个仓库，所以不能直接合并，执行以下命令合并代码，再push即可'><meta name=author content><link rel=canonical href=https://aaronlinv.github.io/posts/git%E7%AC%94%E8%AE%B0/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.45e028aa8ce0961349adf411b013ee39406be2c0bc80d4ea3fc04555f7f4611a.css integrity="sha256-ReAoqozglhNJrfQRsBPuOUBr4sC8gNTqP8BFVff0YRo=" rel="preload stylesheet" as=style><link rel=icon href=https://aaronlinv.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://aaronlinv.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://aaronlinv.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://aaronlinv.github.io/apple-touch-icon.png><link rel=mask-icon href=https://aaronlinv.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://aaronlinv.github.io/posts/git%E7%AC%94%E8%AE%B0/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://aaronlinv.github.io/posts/git%E7%AC%94%E8%AE%B0/"><meta property="og:site_name" content="Aaron Lin"><meta property="og:title" content="Git笔记"><meta property="og:description" content='学习建议 廖雪峰Git教程 比较详细，可操作性也比较强，在评论区可以找到勘误 Git官方推荐的《Pro Git》也很不错，推荐掌握了一定Git基础后再看 对于没有 Linux 基础，或者文字版学起来比较困难的朋友可以看系列视频教程 互联网人都该懂点 Git Linux 下最常用的编辑器就是 Vim，然而第一用可能会让你怀疑人生，建议先学习一下 ：使用Vim创建和编辑文本文件
注意点 Git 2.23 (2019.8.16) git checkout 这个命令被拆分成了两个新命令：git switch 和 git restore 创建并切换到dev分支：git checkout -b dev 现在用git switch -c dev 效果相同
初始配置 安装Git Bash后需要做初始配置
用户名邮箱 # 任意文件夹右键 点击“ Git Bash Here ” # ""内替换为自己的用户名和邮箱 git config --global user.name "username" git config --global user.email "email" # 查看配置是否成功 git config user.name git config user.email SSH 免密登录 # ssh-keygen 用于生成，管理和转换身份验证密钥 # -t：密钥的类型 # -C：用于识别这个密钥的注释（不添加注释直接ssh-keygen -t rsa也不影响使用） ssh-keygen -t rsa -C "邮箱地址" # 连续按3次回车 # 将用户目录下.ssh文件夹内的id_rsa.pub的内容粘贴到GitHub的SSH Keys中 # 具体位置：GitHub Settings -> SSH and GPG keys -> SSH keys # 测试是否成功 Github # 码云测试命令为：ssh git@gitee.com 反馈的结果与 GitHub 类似 ssh git@github.com # Are you sure you want to continue connecting (yes/no)? # 这时需要输入：yes #成功会提示成功认证你的账户 # Hi aaronlinv! You&#39;ve successfully authenticated, but GitHub does not provide shell access. # Connection to github.com closed. 场景0：Git 基本使用 # 新建文件夹，初始化为Git仓库 mkdir learn-git cd learn-git git init # 在当前目录添加并编辑文件(不熟悉 vim 编辑器可以用其他编辑器新建文件并编辑文件 ) vim test.txt # 查看文件状态 test.txt现在为Untracked状态 git status # 添加文件到暂存区 git add test.txt # 提交commit -m 代表添加一个“提交信息” git commit -m "add test.txt" # 推送到 GitHub（在 GitHub 上创建空白仓库，并复制仓库地址） # "git@github.com:aaronlinv/learn-git.git" 需要替换为自己新建的仓库地址 # 先添加远端仓库 # origin：远端仓库的别名（默认origin） git remote add origin git@github.com:aaronlinv/learn-git.git # 查看远端操作（会显示 fetch和push） git remote -v # 推送到远端仓库（使用SSH协议需要配置SSH免密登录） git push -u origin master # -u：指定默认远端仓库别名，下一次推送只需使用git push # origin：远端仓库的别名（默认origin） # master：分支名称 push 是可能会遇到报错：refusing to merge unrelated histories 原因是远程仓库和本地仓库做了不同的改变并commit，导致本地仓库和远程仓库变成了独立的两个仓库，所以不能直接合并，执行以下命令合并代码，再push即可'><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-09-03T23:50:33+08:00"><meta property="article:modified_time" content="2020-09-03T23:50:33+08:00"><meta property="og:image" content="https://aaronlinv.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://aaronlinv.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Git笔记"><meta name=twitter:description content='学习建议
廖雪峰Git教程 比较详细，可操作性也比较强，在评论区可以找到勘误
Git官方推荐的《Pro Git》也很不错，推荐掌握了一定Git基础后再看
对于没有 Linux 基础，或者文字版学起来比较困难的朋友可以看系列视频教程 互联网人都该懂点 Git
Linux 下最常用的编辑器就是 Vim，然而第一用可能会让你怀疑人生，建议先学习一下 ：使用Vim创建和编辑文本文件
注意点
Git 2.23 (2019.8.16)
git checkout 这个命令被拆分成了两个新命令：git switch 和 git restore
创建并切换到dev分支：git checkout -b dev 现在用git switch -c dev 效果相同
初始配置
安装Git Bash后需要做初始配置

用户名邮箱

# 任意文件夹右键 点击“ Git Bash Here ”
# ""内替换为自己的用户名和邮箱
git config --global user.name "username"
git config --global user.email "email"

# 查看配置是否成功
git config user.name
git config user.email

SSH 免密登录

# ssh-keygen 用于生成，管理和转换身份验证密钥
# -t：密钥的类型 
# -C：用于识别这个密钥的注释（不添加注释直接ssh-keygen -t rsa也不影响使用）
ssh-keygen -t rsa -C "邮箱地址"

# 连续按3次回车

# 将用户目录下.ssh文件夹内的id_rsa.pub的内容粘贴到GitHub的SSH Keys中
# 具体位置：GitHub Settings -> SSH and GPG keys -> SSH keys

# 测试是否成功 Github 
# 码云测试命令为：ssh git@gitee.com 反馈的结果与 GitHub 类似

ssh git@github.com

# Are you sure you want to continue connecting (yes/no)? 
# 这时需要输入：yes

#成功会提示成功认证你的账户
# Hi aaronlinv! You&#39;ve successfully authenticated, but GitHub does not provide shell access.
# Connection to github.com closed.
场景0：Git 基本使用
# 新建文件夹，初始化为Git仓库
mkdir learn-git
cd learn-git
git init

# 在当前目录添加并编辑文件(不熟悉 vim 编辑器可以用其他编辑器新建文件并编辑文件 )
vim test.txt

# 查看文件状态 test.txt现在为Untracked状态
git status

# 添加文件到暂存区
git add test.txt

# 提交commit -m 代表添加一个“提交信息”
git commit -m "add test.txt"

# 推送到 GitHub（在 GitHub 上创建空白仓库，并复制仓库地址）
# "git@github.com:aaronlinv/learn-git.git" 需要替换为自己新建的仓库地址
# 先添加远端仓库
# origin：远端仓库的别名（默认origin）
git remote add origin git@github.com:aaronlinv/learn-git.git

# 查看远端操作（会显示 fetch和push）
git remote -v 

# 推送到远端仓库（使用SSH协议需要配置SSH免密登录）
git push -u origin master
# -u：指定默认远端仓库别名，下一次推送只需使用git push
# origin：远端仓库的别名（默认origin）
# master：分支名称
push 是可能会遇到报错：refusing to merge unrelated histories
原因是远程仓库和本地仓库做了不同的改变并commit，导致本地仓库和远程仓库变成了独立的两个仓库，所以不能直接合并，执行以下命令合并代码，再push即可'><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://aaronlinv.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Git笔记","item":"https://aaronlinv.github.io/posts/git%E7%AC%94%E8%AE%B0/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Git笔记","name":"Git笔记","description":"学习建议 廖雪峰Git教程 比较详细，可操作性也比较强，在评论区可以找到勘误 Git官方推荐的《Pro Git》也很不错，推荐掌握了一定Git基础后再看 对于没有 Linux 基础，或者文字版学起来比较困难的朋友可以看系列视频教程 互联网人都该懂点 Git Linux 下最常用的编辑器就是 Vim，然而第一用可能会让你怀疑人生，建议先学习一下 ：使用Vim创建和编辑文本文件\n注意点 Git 2.23 (2019.8.16) git checkout 这个命令被拆分成了两个新命令：git switch 和 git restore 创建并切换到dev分支：git checkout -b dev 现在用git switch -c dev 效果相同\n初始配置 安装Git Bash后需要做初始配置\n用户名邮箱 # 任意文件夹右键 点击“ Git Bash Here ” # \u0026#34;\u0026#34;内替换为自己的用户名和邮箱 git config --global user.name \u0026#34;username\u0026#34; git config --global user.email \u0026#34;email\u0026#34; # 查看配置是否成功 git config user.name git config user.email SSH 免密登录 # ssh-keygen 用于生成，管理和转换身份验证密钥 # -t：密钥的类型 # -C：用于识别这个密钥的注释（不添加注释直接ssh-keygen -t rsa也不影响使用） ssh-keygen -t rsa -C \u0026#34;邮箱地址\u0026#34; # 连续按3次回车 # 将用户目录下.ssh文件夹内的id_rsa.pub的内容粘贴到GitHub的SSH Keys中 # 具体位置：GitHub Settings -\u0026gt; SSH and GPG keys -\u0026gt; SSH keys # 测试是否成功 Github # 码云测试命令为：ssh git@gitee.com 反馈的结果与 GitHub 类似 ssh git@github.com # Are you sure you want to continue connecting (yes/no)? # 这时需要输入：yes #成功会提示成功认证你的账户 # Hi aaronlinv! You\u0026#39;ve successfully authenticated, but GitHub does not provide shell access. # Connection to github.com closed. 场景0：Git 基本使用 # 新建文件夹，初始化为Git仓库 mkdir learn-git cd learn-git git init # 在当前目录添加并编辑文件(不熟悉 vim 编辑器可以用其他编辑器新建文件并编辑文件 ) vim test.txt # 查看文件状态 test.txt现在为Untracked状态 git status # 添加文件到暂存区 git add test.txt # 提交commit -m 代表添加一个“提交信息” git commit -m \u0026#34;add test.txt\u0026#34; # 推送到 GitHub（在 GitHub 上创建空白仓库，并复制仓库地址） # \u0026#34;git@github.com:aaronlinv/learn-git.git\u0026#34; 需要替换为自己新建的仓库地址 # 先添加远端仓库 # origin：远端仓库的别名（默认origin） git remote add origin git@github.com:aaronlinv/learn-git.git # 查看远端操作（会显示 fetch和push） git remote -v # 推送到远端仓库（使用SSH协议需要配置SSH免密登录） git push -u origin master # -u：指定默认远端仓库别名，下一次推送只需使用git push # origin：远端仓库的别名（默认origin） # master：分支名称 push 是可能会遇到报错：refusing to merge unrelated histories 原因是远程仓库和本地仓库做了不同的改变并commit，导致本地仓库和远程仓库变成了独立的两个仓库，所以不能直接合并，执行以下命令合并代码，再push即可\n","keywords":[],"articleBody":"学习建议 廖雪峰Git教程 比较详细，可操作性也比较强，在评论区可以找到勘误 Git官方推荐的《Pro Git》也很不错，推荐掌握了一定Git基础后再看 对于没有 Linux 基础，或者文字版学起来比较困难的朋友可以看系列视频教程 互联网人都该懂点 Git Linux 下最常用的编辑器就是 Vim，然而第一用可能会让你怀疑人生，建议先学习一下 ：使用Vim创建和编辑文本文件\n注意点 Git 2.23 (2019.8.16) git checkout 这个命令被拆分成了两个新命令：git switch 和 git restore 创建并切换到dev分支：git checkout -b dev 现在用git switch -c dev 效果相同\n初始配置 安装Git Bash后需要做初始配置\n用户名邮箱 # 任意文件夹右键 点击“ Git Bash Here ” # \"\"内替换为自己的用户名和邮箱 git config --global user.name \"username\" git config --global user.email \"email\" # 查看配置是否成功 git config user.name git config user.email SSH 免密登录 # ssh-keygen 用于生成，管理和转换身份验证密钥 # -t：密钥的类型 # -C：用于识别这个密钥的注释（不添加注释直接ssh-keygen -t rsa也不影响使用） ssh-keygen -t rsa -C \"邮箱地址\" # 连续按3次回车 # 将用户目录下.ssh文件夹内的id_rsa.pub的内容粘贴到GitHub的SSH Keys中 # 具体位置：GitHub Settings -\u003e SSH and GPG keys -\u003e SSH keys # 测试是否成功 Github # 码云测试命令为：ssh git@gitee.com 反馈的结果与 GitHub 类似 ssh git@github.com # Are you sure you want to continue connecting (yes/no)? # 这时需要输入：yes #成功会提示成功认证你的账户 # Hi aaronlinv! You've successfully authenticated, but GitHub does not provide shell access. # Connection to github.com closed. 场景0：Git 基本使用 # 新建文件夹，初始化为Git仓库 mkdir learn-git cd learn-git git init # 在当前目录添加并编辑文件(不熟悉 vim 编辑器可以用其他编辑器新建文件并编辑文件 ) vim test.txt # 查看文件状态 test.txt现在为Untracked状态 git status # 添加文件到暂存区 git add test.txt # 提交commit -m 代表添加一个“提交信息” git commit -m \"add test.txt\" # 推送到 GitHub（在 GitHub 上创建空白仓库，并复制仓库地址） # \"git@github.com:aaronlinv/learn-git.git\" 需要替换为自己新建的仓库地址 # 先添加远端仓库 # origin：远端仓库的别名（默认origin） git remote add origin git@github.com:aaronlinv/learn-git.git # 查看远端操作（会显示 fetch和push） git remote -v # 推送到远端仓库（使用SSH协议需要配置SSH免密登录） git push -u origin master # -u：指定默认远端仓库别名，下一次推送只需使用git push # origin：远端仓库的别名（默认origin） # master：分支名称 push 是可能会遇到报错：refusing to merge unrelated histories 原因是远程仓库和本地仓库做了不同的改变并commit，导致本地仓库和远程仓库变成了独立的两个仓库，所以不能直接合并，执行以下命令合并代码，再push即可\ngit pull origin master --allow-unrelated-histories 场景1：克隆仓库 # 克隆仓库到本地（可以使用HTTPS或者SSH协议） # \"https://github.com/aaronlinv/learn-git.git\" 为目标仓库地址 git clone https://github.com/aaronlinv/learn-git.git # Git会新建一个与仓库名同名的文件夹，进入文件夹 # \"learn-git\" 为项目名称 cd learn-git # 如果这个仓库已经克隆很久了，本地和远程可能存在差异了，可以拉取远程仓库最新状态到本地仓库 git pull 场景2：分支管理 # 已经克隆仓库到本地 # 开始工作前，先拉取远程最新修改（可能同事已经修改代码并提交了commit） git pull # 新建并跳转到dev分支（也可使用git branch -b dev） git switch -c dev # 查看分支情况 git branch # 可以在dev 分支上修改代码做add和commit # 推送dev分支到远程（需要拥有远端仓库的权限） git push origin dev # 如果需要重命名远端分支则加上 :f1 git push origin dev:f1 # 删除远端dev分支 git push origin :dev # 合并dev分支到master(需要先切换到master分支，在merge的过程可能需要解决冲突) git switch master git merge --no-ff dev # 查看分支合并情况 git log --graph --pretty=oneline --abbrev-commit # 删除本地dev分支 git branch -d dev merge 和 rebase 创建冲突场景 # 新建文件夹，初始化为Git仓库 mkdir learn-git cd learn-git git init # 添加并编辑文件 vim c2 # 添加文件到暂存区 git add c2 # 提交commit -m 代表添加一个“提交信息” git commit -m \"c2\" # 新建并跳转到experiment分支 git switch -c experiment # 添加并提交c4 vim c4 git add c4 git commit -m \"c4\" # 切换回master分支 git switch master # 添加并提交c3 vim c3 git add c3 git commit -m \"c3\" 到这c2就产生了分叉，experiment分支推进到了c4，master分支推进到了c3 这个时候如果想把两个分支的修改合并到master分支上，可以使用merge或rebase(变基)，两种方式最后合并的结果是一样的，但rebase不会产生分叉，rebase的提交历史也比merge更线性\nmerge # 使用merge方式合并分支 # 先切换到master分支 git switch master # 合并分支（会弹出commit message的编辑框，:wq 保存退出） git merge experiment # 查看分支合并情况 git log --graph --pretty=oneline --abbrev-commit — merge示意图 引用自《Git Pro》\n使用merge合并分支，相当于三方合并，合并c2,c3,c4（未新建experiment分支前的修改c2、新建分支后master分支的修改c3、experiment分支的修改c4）\n直接使用git merge \u003c要被merge的分支名\u003e ，没有冲突的情况下默认使用参数：–f 即：Fast-forward（快进式合并） 推荐使用–no-ff 即：git merge –no-ff \u003c要被merge的分支名\u003e\n这个参数的意思是禁止快进式合并，合并时会自动创建一次commit提交，保证提交链的完整性 而Fast-forward合并分支会丢掉分支信息\nrebase # 使用rebase方式合并分支 # 先切换到experiment分支 git switch experiment # rebase分支 git rebase master # 先切换到master分支 git switch master # 将experiment合并到master git merge experiment # 查看分支合并情况 git log --graph --pretty=oneline --abbrev-commit — rebase示意图 引用自《Git Pro》\nrebase的原理是：找到c3和c4共同的祖先c2，暂存共同祖先c2到当前分支(expriment)的修改内容，然后将分支指向master的c3，并应用之前暂存的修改内容 我们可以这么理解：\nrebase就是先把其他分支(master)已经提交的代码（c3）放到前面，把当前分支(experiment)提交的修改(c4)放到后面，这样做的好处就是：自己写代码(experiment分支上的)将出现在master最新的一次commit中，一目了然\nrebase：黄金法则：绝对不要在公共分支使用rebase，rebase会重写提交历史\n参考资料 ssh-keygen的-C后面的邮箱有什么用？ Git 合并时 –no-ff 的作用 记Git报错-refusing to merge unrelated histories\n","wordCount":"460","inLanguage":"en","image":"https://aaronlinv.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E","datePublished":"2020-09-03T23:50:33+08:00","dateModified":"2020-09-03T23:50:33+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://aaronlinv.github.io/posts/git%E7%AC%94%E8%AE%B0/"},"publisher":{"@type":"Organization","name":"Aaron Lin","logo":{"@type":"ImageObject","url":"https://aaronlinv.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://aaronlinv.github.io/ accesskey=h title="Aaron's Blog (Alt + H)">Aaron's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://aaronlinv.github.io/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://aaronlinv.github.io/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://aaronlinv.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://aaronlinv.github.io/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">Git笔记</h1><div class=post-meta><span title='2020-09-03 23:50:33 +0800 +0800'>September 3, 2020</span></div></header><div class=post-content><h2 id=学习建议>学习建议<a hidden class=anchor aria-hidden=true href=#学习建议>#</a></h2><p><a href=https://www.liaoxuefeng.com/wiki/896043488029600>廖雪峰Git教程 </a>比较详细，可操作性也比较强，在评论区可以找到勘误
Git官方推荐的<a href=https://git-scm.com/book/zh/v2>《Pro Git》</a>也很不错，推荐掌握了一定Git基础后再看
对于没有 Linux 基础，或者文字版学起来比较困难的朋友可以看系列视频教程 <a href=https://www.bilibili.com/video/BV1HW411f7VJ>互联网人都该懂点 Git</a>
Linux 下最常用的编辑器就是 Vim，然而第一用可能会让你怀疑人生，建议先学习一下 ：<a href=https://blog.csdn.net/qinfuan2017/article/details/79728906>使用Vim创建和编辑文本文件</a></p><h2 id=注意点>注意点<a hidden class=anchor aria-hidden=true href=#注意点>#</a></h2><p>Git 2.23 (2019.8.16)
git checkout 这个命令被拆分成了两个新命令：git switch 和 git restore
创建并切换到dev分支：git checkout -b dev 现在用git switch -c dev 效果相同</p><h2 id=初始配置>初始配置<a hidden class=anchor aria-hidden=true href=#初始配置>#</a></h2><p>安装Git Bash后需要做初始配置</p><ol><li>用户名邮箱</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 任意文件夹右键 点击“ Git Bash Here ”</span>
</span></span><span class=line><span class=cl><span class=c1># &#34;&#34;内替换为自己的用户名和邮箱</span>
</span></span><span class=line><span class=cl>git config --global user.name <span class=s2>&#34;username&#34;</span>
</span></span><span class=line><span class=cl>git config --global user.email <span class=s2>&#34;email&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 查看配置是否成功</span>
</span></span><span class=line><span class=cl>git config user.name
</span></span><span class=line><span class=cl>git config user.email
</span></span></code></pre></div><ol start=2><li>SSH 免密登录</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># ssh-keygen 用于生成，管理和转换身份验证密钥</span>
</span></span><span class=line><span class=cl><span class=c1># -t：密钥的类型 </span>
</span></span><span class=line><span class=cl><span class=c1># -C：用于识别这个密钥的注释（不添加注释直接ssh-keygen -t rsa也不影响使用）</span>
</span></span><span class=line><span class=cl>ssh-keygen -t rsa -C <span class=s2>&#34;邮箱地址&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 连续按3次回车</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 将用户目录下.ssh文件夹内的id_rsa.pub的内容粘贴到GitHub的SSH Keys中</span>
</span></span><span class=line><span class=cl><span class=c1># 具体位置：GitHub Settings -&gt; SSH and GPG keys -&gt; SSH keys</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 测试是否成功 Github </span>
</span></span><span class=line><span class=cl><span class=c1># 码云测试命令为：ssh git@gitee.com 反馈的结果与 GitHub 类似</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>ssh git@github.com
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Are you sure you want to continue connecting (yes/no)? </span>
</span></span><span class=line><span class=cl><span class=c1># 这时需要输入：yes</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#成功会提示成功认证你的账户</span>
</span></span><span class=line><span class=cl><span class=c1># Hi aaronlinv! You&#39;ve successfully authenticated, but GitHub does not provide shell access.</span>
</span></span><span class=line><span class=cl><span class=c1># Connection to github.com closed.</span>
</span></span></code></pre></div><h2 id=场景0git-基本使用>场景0：Git 基本使用<a hidden class=anchor aria-hidden=true href=#场景0git-基本使用>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 新建文件夹，初始化为Git仓库</span>
</span></span><span class=line><span class=cl>mkdir learn-git
</span></span><span class=line><span class=cl><span class=nb>cd</span> learn-git
</span></span><span class=line><span class=cl>git init
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 在当前目录添加并编辑文件(不熟悉 vim 编辑器可以用其他编辑器新建文件并编辑文件 )</span>
</span></span><span class=line><span class=cl>vim test.txt
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 查看文件状态 test.txt现在为Untracked状态</span>
</span></span><span class=line><span class=cl>git status
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 添加文件到暂存区</span>
</span></span><span class=line><span class=cl>git add test.txt
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 提交commit -m 代表添加一个“提交信息”</span>
</span></span><span class=line><span class=cl>git commit -m <span class=s2>&#34;add test.txt&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 推送到 GitHub（在 GitHub 上创建空白仓库，并复制仓库地址）</span>
</span></span><span class=line><span class=cl><span class=c1># &#34;git@github.com:aaronlinv/learn-git.git&#34; 需要替换为自己新建的仓库地址</span>
</span></span><span class=line><span class=cl><span class=c1># 先添加远端仓库</span>
</span></span><span class=line><span class=cl><span class=c1># origin：远端仓库的别名（默认origin）</span>
</span></span><span class=line><span class=cl>git remote add origin git@github.com:aaronlinv/learn-git.git
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 查看远端操作（会显示 fetch和push）</span>
</span></span><span class=line><span class=cl>git remote -v 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 推送到远端仓库（使用SSH协议需要配置SSH免密登录）</span>
</span></span><span class=line><span class=cl>git push -u origin master
</span></span><span class=line><span class=cl><span class=c1># -u：指定默认远端仓库别名，下一次推送只需使用git push</span>
</span></span><span class=line><span class=cl><span class=c1># origin：远端仓库的别名（默认origin）</span>
</span></span><span class=line><span class=cl><span class=c1># master：分支名称</span>
</span></span></code></pre></div><p>push 是可能会遇到报错：refusing to merge unrelated histories
原因是远程仓库和本地仓库做了不同的改变并commit，导致本地仓库和远程仓库变成了独立的两个仓库，所以不能直接合并，执行以下命令合并代码，再push即可</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git pull origin master --allow-unrelated-histories
</span></span></code></pre></div><h2 id=场景1克隆仓库>场景1：克隆仓库<a hidden class=anchor aria-hidden=true href=#场景1克隆仓库>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 克隆仓库到本地（可以使用HTTPS或者SSH协议）</span>
</span></span><span class=line><span class=cl><span class=c1># &#34;https://github.com/aaronlinv/learn-git.git&#34; 为目标仓库地址</span>
</span></span><span class=line><span class=cl>git clone https://github.com/aaronlinv/learn-git.git
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Git会新建一个与仓库名同名的文件夹，进入文件夹</span>
</span></span><span class=line><span class=cl><span class=c1># &#34;learn-git&#34; 为项目名称</span>
</span></span><span class=line><span class=cl><span class=nb>cd</span> learn-git
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 如果这个仓库已经克隆很久了，本地和远程可能存在差异了，可以拉取远程仓库最新状态到本地仓库</span>
</span></span><span class=line><span class=cl>git pull
</span></span></code></pre></div><h2 id=场景2分支管理>场景2：分支管理<a hidden class=anchor aria-hidden=true href=#场景2分支管理>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 已经克隆仓库到本地</span>
</span></span><span class=line><span class=cl><span class=c1># 开始工作前，先拉取远程最新修改（可能同事已经修改代码并提交了commit）</span>
</span></span><span class=line><span class=cl>git pull
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 新建并跳转到dev分支（也可使用git branch -b dev）</span>
</span></span><span class=line><span class=cl>git switch -c dev
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 查看分支情况</span>
</span></span><span class=line><span class=cl>git branch
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 可以在dev 分支上修改代码做add和commit</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 推送dev分支到远程（需要拥有远端仓库的权限）</span>
</span></span><span class=line><span class=cl>git push origin dev
</span></span><span class=line><span class=cl><span class=c1># 如果需要重命名远端分支则加上 :f1</span>
</span></span><span class=line><span class=cl>git push origin dev:f1
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 删除远端dev分支</span>
</span></span><span class=line><span class=cl>git push origin :dev 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 合并dev分支到master(需要先切换到master分支，在merge的过程可能需要解决冲突)</span>
</span></span><span class=line><span class=cl>git switch master
</span></span><span class=line><span class=cl>git merge --no-ff dev 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 查看分支合并情况</span>
</span></span><span class=line><span class=cl>git log --graph --pretty<span class=o>=</span>oneline --abbrev-commit
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 删除本地dev分支</span>
</span></span><span class=line><span class=cl>git branch -d dev 
</span></span></code></pre></div><h2 id=merge-和-rebase>merge 和 rebase<a hidden class=anchor aria-hidden=true href=#merge-和-rebase>#</a></h2><h4 id=创建冲突场景>创建冲突场景<a hidden class=anchor aria-hidden=true href=#创建冲突场景>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 新建文件夹，初始化为Git仓库</span>
</span></span><span class=line><span class=cl>mkdir learn-git
</span></span><span class=line><span class=cl><span class=nb>cd</span> learn-git
</span></span><span class=line><span class=cl>git init
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 添加并编辑文件 </span>
</span></span><span class=line><span class=cl>vim c2
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 添加文件到暂存区</span>
</span></span><span class=line><span class=cl>git add c2
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 提交commit -m 代表添加一个“提交信息”</span>
</span></span><span class=line><span class=cl>git commit -m <span class=s2>&#34;c2&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 新建并跳转到experiment分支</span>
</span></span><span class=line><span class=cl>git switch -c experiment
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 添加并提交c4</span>
</span></span><span class=line><span class=cl>vim c4
</span></span><span class=line><span class=cl>git add c4
</span></span><span class=line><span class=cl>git commit -m <span class=s2>&#34;c4&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 切换回master分支</span>
</span></span><span class=line><span class=cl>git switch master
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 添加并提交c3</span>
</span></span><span class=line><span class=cl>vim c3
</span></span><span class=line><span class=cl>git add c3
</span></span><span class=line><span class=cl>git commit -m <span class=s2>&#34;c3&#34;</span>
</span></span></code></pre></div><p>到这c2就产生了分叉，experiment分支推进到了c4，master分支推进到了c3
这个时候如果想把两个分支的修改合并到master分支上，可以使用merge或rebase(变基)，两种方式最后合并的结果是一样的，但rebase不会产生分叉，rebase的提交历史也比merge更线性</p><h4 id=merge>merge<a hidden class=anchor aria-hidden=true href=#merge>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 使用merge方式合并分支</span>
</span></span><span class=line><span class=cl><span class=c1># 先切换到master分支</span>
</span></span><span class=line><span class=cl>git switch master
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 合并分支（会弹出commit message的编辑框，:wq 保存退出）</span>
</span></span><span class=line><span class=cl>git merge experiment
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 查看分支合并情况</span>
</span></span><span class=line><span class=cl>git log --graph --pretty<span class=o>=</span>oneline --abbrev-commit
</span></span></code></pre></div><blockquote><p><img loading=lazy src=../Git%E7%AC%94%E8%AE%B0/1929786-20200903234159965-1790101703.png></p></blockquote><blockquote><p>&mdash; merge示意图 引用自《Git Pro》</p></blockquote><p>使用merge合并分支，相当于三方合并，合并c2,c3,c4（未新建experiment分支前的修改c2、新建分支后master分支的修改c3、experiment分支的修改c4）</p><p>直接使用git merge &lt;要被merge的分支名> ，没有冲突的情况下默认使用参数：&ndash;f 即：Fast-forward（快进式合并）
推荐使用&ndash;no-ff 即：git merge &ndash;no-ff &lt;要被merge的分支名><br>这个参数的意思是禁止快进式合并，合并时会自动创建一次commit提交，保证提交链的完整性
而Fast-forward合并分支会丢掉分支信息</p><h4 id=rebase>rebase<a hidden class=anchor aria-hidden=true href=#rebase>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 使用rebase方式合并分支</span>
</span></span><span class=line><span class=cl><span class=c1># 先切换到experiment分支</span>
</span></span><span class=line><span class=cl>git switch experiment
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># rebase分支</span>
</span></span><span class=line><span class=cl>git rebase master
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 先切换到master分支</span>
</span></span><span class=line><span class=cl>git switch master
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 将experiment合并到master</span>
</span></span><span class=line><span class=cl>git merge experiment
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 查看分支合并情况</span>
</span></span><span class=line><span class=cl>git log --graph --pretty<span class=o>=</span>oneline --abbrev-commit
</span></span></code></pre></div><blockquote><p><img loading=lazy src=../Git%E7%AC%94%E8%AE%B0/1929786-20200903234226344-1926644927.png>
<img loading=lazy src=../Git%E7%AC%94%E8%AE%B0/1929786-20200903234229156-1873148272.png></p></blockquote><blockquote><p>&mdash; rebase示意图 引用自《Git Pro》</p></blockquote><p>rebase的原理是：找到c3和c4共同的祖先c2，暂存共同祖先c2到当前分支(expriment)的修改内容，然后将分支指向master的c3，并应用之前暂存的修改内容
我们可以这么理解：</p><p>rebase就是先把其他分支(master)已经提交的代码（c3）放到前面，把当前分支(experiment)提交的修改(c4)放到后面，这样做的好处就是：自己写代码(experiment分支上的)将出现在master最新的一次commit中，一目了然</p><p>rebase：黄金法则：绝对不要在公共分支使用rebase，rebase会重写提交历史</p><h2 id=参考资料>参考资料<a hidden class=anchor aria-hidden=true href=#参考资料>#</a></h2><p><a href=https://blog.csdn.net/u011118321/article/details/78516303>ssh-keygen的-C后面的邮箱有什么用？</a>
<a href=https://blog.csdn.net/zombres/article/details/82179122>Git 合并时 &ndash;no-ff 的作用</a>
<a href=https://blog.csdn.net/u012145252/article/details/80628451>记Git报错-refusing to merge unrelated histories</a></p></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://aaronlinv.github.io/posts/%E9%AB%98%E6%95%88%E8%83%BD%E4%BA%BA%E5%A3%AB%E7%9A%84%E4%B8%83%E4%B8%AA%E4%B9%A0%E6%83%AF%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/><span class=title>« Prev</span><br><span>《高效能人士的七个习惯》读书笔记</span>
</a><a class=next href=https://aaronlinv.github.io/posts/%E5%AE%89%E5%8D%93%E5%88%9D%E5%AD%A6%E6%8C%87%E5%8D%97/><span class=title>Next »</span><br><span>安卓初学指南</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://aaronlinv.github.io/>Aaron Lin</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>